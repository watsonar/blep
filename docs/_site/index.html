<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.21.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Willow</title>
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Willow">
<meta property="og:title" content="Willow">
<meta property="og:url" content="http://localhost:4000/willow/">


  <meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.">












<link rel="canonical" href="http://localhost:4000/willow/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/willow/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/willow/feed.xml" type="application/atom+xml" rel="alternate" title="Willow Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/willow/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--splash">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/willow/">
          Willow
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      

<div id="main" role="main">
  <article class="splash" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    
    

    <section class="page__content" itemprop="text">
      <html>
    <head>
        <link href="https://unpkg.com/tabulator-tables@4.9.1/dist/css/tabulator.min.css" rel="stylesheet">
        <script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.9.1/dist/js/tabulator.min.js"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
        <style>
        #clear-filters {
          border-style: solid;
          border-width: 1px;
          color: black;
          background-color: white;
          padding: 4px;
          text-align: center;
          text-decoration: none;
          display: inline-block;
          font-size: 16px;
          margin: 2px;
          cursor: pointer;
        }
        #clear-filters:hover {
          border-style: solid;
          border-width: 1px;
          color: black;
          background-color: orange;
          padding: 4px;
          text-align: center;
          text-decoration: none;
          display: inline-block;
          font-size: 16px;
          margin: 2px;
          cursor: pointer;
        }
        </style>

    </head>
    <body>
        

        <button id="clear-filters">Clear filters.</button>
        <div id="example-table"></div>
        <script>

            $.getJSON("https://raw.githubusercontent.com/watsonar/willow/gh-pages/data/processed/processed_LITE_data_2020_11_25.json?token=AHUECOGFJVV4LAVMPBPM7BK7ZZ6LU")
            .done(function (food_data) {
				//custom max min header filter
				var minMaxFilterEditor = function(cell, onRendered, success, cancel, editorParams){
				    var end;
				    var container = document.createElement("span");
				    //create and style inputs
				    var start = document.createElement("input");
				    start.setAttribute("type", "number");
				    start.setAttribute("placeholder", "min");
				    start.setAttribute("min", 0);
				    start.setAttribute("max", 100);
				    start.style.padding = "4px";
					start.style.margin = "2px";
				    start.style.width = "45%";
				    start.style.boxSizing = "border-box";
				    start.value = cell.getValue();
				    function buildValues(){
				        success({
				            start:start.value,
				            end:end.value,
				        });
				    }
				    end = start.cloneNode();
				    end.setAttribute("placeholder", "max");
				    start.addEventListener("change", buildValues);
				    start.addEventListener("focusout", buildValues);
				    end.addEventListener("change", buildValues);
				    end.addEventListener("blur", buildValues);
				    container.appendChild(start);
				    container.appendChild(end);
				    return container;
				 }
				//custom max min filter function
				function minMaxFilterFunction(headerValue, rowValue, rowData, filterParams){
				    //headerValue - the value of the header filter element
				    //rowValue - the value of the column in this row
				    //rowData - the data for the row being filtered
				    //filterParams - params object passed to the headerFilterFuncParams property
				        if(rowValue){
				            if(headerValue.start != ""){
				                if(headerValue.end != ""){
				                    return rowValue >= headerValue.start && rowValue <= headerValue.end;
				                }else{
				                    return rowValue >= headerValue.start;
				                }
				            }else{
				                if(headerValue.end != ""){
				                    return rowValue <= headerValue.end;
				                }
				            }
				        }
				
				    return true; //must return a boolean, true if it passes the filter.
				}
				var table = new Tabulator("#example-table", {
                    height:600, // set height of table (in CSS or here), this enables the Virtual DOM and improves render speed dramatically (can be any valid css height value)
                 	layout:"fitColumns", //fit columns to width of table (optional)
                 	data:food_data,
                 	autoColumns:false,
                    columns:[
                        {title:"Product", field:"name", headerFilter:true, headerFilterPlaceholder:"text contains..."},
                        {title:"URL", field:"url", formatter:"link"},
                        {title:"Price (USD)", field:"our_price", formatter:"money", formatterParams:{
                            symbol:"$", precision:2},
							headerFilter:minMaxFilterEditor, headerFilterFunc:minMaxFilterFunction},
                        {title:"Price/kcal", field:"price_per_kcal", formatter:"money", formatterParams:{
                            symbol:"$", precision:6},
							headerFilter:minMaxFilterEditor, headerFilterFunc:minMaxFilterFunction},
                        {title:"Type", field:"food_form", headerFilter:"select", headerFilterPlaceholder:"text contains...", headerFilterParams:{
							values:true,
							multiselect:true,
							sortValuesList:"asc"}},
                        {title:"% Calories Protein (min)", field:"%_calories_min_protein", formatter:"money", formatterParams:{
                            symbol:"%", symbolAfter:true, precision:0},
							headerFilter:minMaxFilterEditor, headerFilterFunc:minMaxFilterFunction},
                        {title:"% Calories Fat (min)", field:"%_calories_min_fat", formatter:"money", formatterParams:{
							symbol:"%", symbolAfter:true, precision:0}, 
							headerFilter:minMaxFilterEditor, headerFilterFunc:minMaxFilterFunction},
                        {title:"% Calories Carbs", field:"%_calories_carbohydrate", formatter:"money", formatterParams:{
                            symbol:"%", symbolAfter:true, precision:0},
							headerFilter:minMaxFilterEditor, headerFilterFunc:minMaxFilterFunction},
                        {title:"Ingredients", field:"ingredients"},
                    ],
                    placeholder:"No Data Available :(", //display message to user on empty table
                });
            
                function clearHeaderFilters() {
                    table.clearHeaderFilter()}
                document.getElementById("clear-filters").addEventListener("click", clearHeaderFilters);
            });

        </script>
hiiiii

    </body>
</html>

    </section>
  </article>
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/willow/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Willow. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/willow/assets/js/main.min.js"></script>










  </body>
</html>
